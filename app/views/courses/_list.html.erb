<table id="<%= locals[:list_id] %>" class="course-list">
  <thead>
    <tr>
      <th>
        Course
      </th>
      <% if signed_in? %>
        <th>
          Source type
        </th>
        <th>
          Source URL
        </th>
        <th>
        </th>
        <th>
        </th>
      <% end %>
    </tr>
  </thead>
  <tbody>
  <% locals[:courses].each do |course| %>
    <tr class="course <% if !course.visible? %>hidden<% end %>">
      <td>
        <%= link_to course.name, course_path(course) %>
      </td>
      <% if signed_in? %>
        <td>
          <%= course.source_backend.upcase %>
        </td>
        <td>
          <span class="source-url"><%= course.source_url %></span>
        </td>
        <td>
          <%= link_to 'refresh', refresh_course_path(course) %>
        </td>
        <td>
          <%= link_to 'Show', course_path(course) %>
          |
          <%= link_to 'Delete', course_path(course), :method => :delete, :class => 'dangerous', :confirm => 'Really truly delete this course?' %>
        </td>
      <% end %>
    </tr>
  <% end %>
  </tbody>
</table>

<%= use_datatables('table.course-list#' + locals[:list_id], :bPaginate => false) %>

<div class="as-json">[<%= link_to "json", "#{courses_path}.json" %>]</div>


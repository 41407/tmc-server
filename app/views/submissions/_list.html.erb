
<table class="submissions">
  <thead>
    <tr>
      <th>Time</th>
      <th>Student</th>
      <% if show_exercise_column %>
        <th>Exercise</th>
      <% end %>
      <th>Status</th>
      <% if show_awarded_points %>
        <th>Points</th>
      <% end %>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% submissions.each do |submission| %> 
      <tr>
        <td><%= submission.created_at.strftime("%Y-%m-%d %H:%M") %></td>
        <td>
          <% if can? :read, submission.user %>
            <%= link_to submission.user.login, participant_path(submission.user) %>
          <% else  %>
            <%= submission.user.login %>
          <% end %>
        </td>
        <% if show_exercise_column %>
          <td>
            <%= link_to_submission_exericse(submission) %>
          </td>
        <% end %>
        <td>
          <%= submission_status(submission) %>
        </td>
        <% if show_awarded_points %>
          <td>
            <%= points_list(submission.awarded_points.sort.map(&:name)) %>
          </td>
        <% end %>
        <td>
          <%= link_to 'Files', submission_files_path(submission) %>
        </td>
        <td>
          <%= link_to 'Details', submission_path(submission)  %>
        </td>
       </tr>
    <% end %>
  </tbody>
</table>

<% if invoke_datatables %>
  <%= use_datatables('table.submissions', :bPaginate => false) %>
<% end %>